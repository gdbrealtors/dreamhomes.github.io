{"version":3,"sources":["before.js","main.js","after.js"],"names":["$","Opal_Give","_this","this","_classCallCheck","document","on","event","video","gallery","gallery_single","single_tabs","_createClass","key","value","_this2","$button","currentTarget","data","ajax","method","url","maisonco","ajaxurl","action","give_id","beforeSend","addClass","response","$video","find","fixedContentPos","success","disableOn","type","mainClass","removalDelay","preloader","$gallery","magnificPopup","removeClass","delegate","enabled","html","tLoading","navigateByImgClick","preload","image","tError","titleSrc","item","$tabs","jQuery"],"mappings":"8XAAA,SAAAA,GAAA,GCAAC,GDAA,WCCA,QAAAA,KAAA,GAAAC,GAAAC,IAAAC,iBAAAD,KAAAF,GACAD,EAAAK,UAAAC,GAAA,QAAA,iCAAA,SAAAC,GACAL,EAAAM,MAAAD,KAEAP,EAAAK,UAAAC,GAAA,QAAA,mCAAA,SAAAC,GDLAL,EAAAO,QAAAF,KCCAJ,KAAAO,iBAAAP,KAAAQ,cDDA,MAAAC,cAAAX,IAAAY,IAAA,QAAAC,MAAA,SCYAP,GAAA,GAAAQ,GAAAZ,IAVAH,GAAAA,gBACA,IAAAgB,GAAAhB,EAAAO,EAAAU,cACAD,GAAAE,KAAA,UACAlB,EAAAA,KAAAA,0BAAAA,QAAAA,SAEAA,EAAAmB,MACAC,OAAA,OACAC,IAAAC,SAAAC,QACAL,MAYAM,OAAA,qBDtBAC,QAAAT,EAAAE,KAAA,gBAAAQ,WAAA,WCYAV,EAAAW,SAAA,YACApB,QAAAA,SAAAA,GAEA,GADAS,EAAAE,KAAA,UAAA,GACAU,EAAA,CACAZ,EAAAA,OAAAA,EAAAA,gBAAAA,GACA,IAAAa,GAAAb,EAAAc,KAAA,yBACA9B,GAAAA,eACAoB,UAAAA,IACAC,KAAAA,SACAH,UAAAA,WACAM,aAAAA,IACAC,WAAAA,EAFAM,iBAAA,IAKAf,EAAAA,QAAAA,SAEAgB,EAAAA,YAAAA,iBD5BAnB,IAAA,UAAAC,MAAA,SCkCAmB,GAAAA,GAAAA,GAAAA,IACAC,GAAAA,gBACAC,IAAAA,GAAAA,EAAAA,EAAAA,cACAC,GAAAA,KAAAA,UACAC,EAAAA,KAAAA,wCAAAA,QAAAA,SALArC,EAAAmB,MAQAU,OAAAA,OACAR,IAAAC,SAAAC,QACAP,MACAQ,OAAA,uBA1BAC,QAAAT,EAAAE,KAAA,gBA6BAQ,WAAA,WD/CAV,EAAAW,SAAA,YAAAK,QAAA,SAAAJ,GCmEA,GAlBAZ,EAAAE,KAAA,UAAA,GAkBAU,EAAA,CAjBArB,EAAAA,OAAAA,EAAAA,kBAAAA,GACA,IAAA+B,GAAAtB,EAAAc,KAAA,yBACAQ,GAAAC,eACAvB,SAAAA,IACAkB,KAAA,QACAlC,SACAoB,SAAAA,KAGAI,EAAAA,KAAAA,kBAAAA,QAAAA,SADAR,EAAAwB,YAAA,iBD1DA3B,IAAA,kBAAAC,MAAA,SCmEAN,GACAQ,MAAAA,6CAAAA,EAAAA,kBDpEAH,IAAA,oBAAAC,MAAA,SCuEA2B,GACAP,GAAAA,GAAAA,qCACAzB,KAAAA,GAAAA,KAAAA,GACAiC,GAAAA,YAAAA,EAAAA,GAAAA,eAAAA,EAAAA,GAAAA,QAGAJ,OAPAK,IAAA,YDtEA9B,IAAA,iBAAAC,MAAA,WCuDAd,EAAA,+BAAAuC,eA2BAE,SAAA,IACAP,KAAA,QDnFAU,SAAA,2BAAAT,UAAA,iBAAA1B,SCsFAiC,SAAA,EACAG,oBAAA,EDvFAC,SAAA,EAAA,IAAAC,OC0FAC,OAAA,6DACAC,SAAA,SAAAC,GACAP,MAAAA,GAAAA,GAAAA,KAAAA,gBD5FA9B,IAAA,cAAAC,MAAA,WAAA,GAAAqC,GAAAnD,EAAA,wBCmGAA,GAAAA,OAAAA,GACAyC,EAAAA,WDpGAxC,ICyGAyC,GAAAA,UAAAA,MAAAA,WACAG,GAAAA,MC1GAO","file":"main.js","sourcesContent":["(function ($) {","class Opal_Give {\n    constructor() {\n        $(document).on('click', '[data-toogle=\"rehomes-video\"]', (event) => {\n            this.video(event);\n        })\n        $(document).on('click', '[data-toogle=\"rehomes-gallery\"]', (event) => {\n            this.gallery(event);\n        })\n        this.gallery_single();\n        this.single_tabs();\n    }\n\n    video(event) {\n        event.preventDefault();\n        let $button = $(event.currentTarget);\n        if ($button.data('loaded')) {\n            $button.find('.ajax-rehomes-video a').trigger('click');\n        } else {\n            $.ajax({\n                method    : 'POST',\n                url       : maisonco.ajaxurl,\n                data      : {\n                    action : 'get_maisonco_video',\n                    give_id: $button.data('rehomes-id'),\n                },\n                beforeSend: () => {\n                    $button.addClass('loading');\n                },\n                success   : (response) => {\n                    $button.data('loaded', true);\n                    if (response) {\n                        $button.append(this.renderVideoHTML(response));\n                        let $video = $button.find('.ajax-rehomes-video a');\n                        $video.magnificPopup({\n                            disableOn      : 700,\n                            type           : 'iframe',\n                            mainClass      : 'mfp-fade',\n                            removalDelay   : 160,\n                            preloader      : false,\n                            fixedContentPos: false\n                        });\n                        $video.trigger('click');\n                    }\n                    $button.removeClass('loading');\n                }\n            })\n        }\n    }\n\n    gallery(event) {\n        event.preventDefault();\n        let $button = $(event.currentTarget);\n        if ($button.data('loaded')) {\n            $button.find('.ajax-rehomes-gallery a:first-child').trigger('click');\n        } else {\n            $.ajax({\n                method    : 'POST',\n                url       : maisonco.ajaxurl,\n                data      : {\n                    action : 'get_maisonco_gallery',\n                    give_id: $button.data('rehomes-id'),\n                },\n                beforeSend: () => {\n                    $button.addClass('loading');\n                },\n                success   : (response) => {\n                    $button.data('loaded', true);\n                    if (response) {\n                        $button.append(this.renderGalleryHTML(response));\n                        let $gallery = $button.find('.ajax-rehomes-gallery');\n                        $gallery.magnificPopup({\n                            delegate: 'a', // the selector for gallery item\n                            type    : 'image',\n                            gallery : {\n                                enabled: true\n                            }\n                        });\n                        $gallery.find('>a:first-child').trigger('click');\n                    }\n                    $button.removeClass('loading');\n                }\n            })\n        }\n    }\n\n    renderVideoHTML(video) {\n        return `<div class=\"ajax-rehomes-video\"><a href=\"${video}\"></a></div>`;\n    }\n\n    renderGalleryHTML(listImages) {\n        let html = `<div class=\"ajax-rehomes-gallery\">`\n        for (let i in listImages) {\n            html += `<a href=\"${listImages[i]}\"><img src=\"${listImages[i]}\"></a>`;\n        }\n        html += '</div>';\n        return html;\n    }\n\n    gallery_single() {\n        $('.single-give_forms .gallery').magnificPopup({\n            delegate : 'a',\n            type     : 'image',\n            tLoading : 'Loading image #%curr%...',\n            mainClass: 'mfp-img-mobile',\n            gallery  : {\n                enabled           : true,\n                navigateByImgClick: true,\n                preload           : [0, 1]\n            },\n            image    : {\n                tError  : '<a href=\"%url%\">The image #%curr%</a> could not be loaded.',\n                titleSrc: function (item) {\n                    return item.el.attr('title');\n                }\n            }\n        });\n    }\n\n    single_tabs() {\n        let $tabs = $(\"#give-form-single-tab\");\n        if ($tabs.length > 0) {\n            $tabs.tabs();\n        }\n    }\n}\n\n$(document).ready(function () {\n    new Opal_Give();\n});","})(jQuery);"]}