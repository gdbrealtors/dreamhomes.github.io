{"version":3,"sources":["before.js","carousel.js","after.js"],"names":["$","OTF_Owl_Carousel","_this","this","_classCallCheck","setTimeout","initOwlCarousel","_createClass","key","value","_this2","each","index","element","listImages","_getImageThumbnail","$element","_setupOwlCarousel","data","_initOwlThumbnails","_this3","items","items768","itemMobile","settings","dots","_setDefaultBoolean","nav","loop","center","rewind","mouseDrag","touchDrag","pullDrag","freeDrag","margin","stagePadding","merge","mergeFit","autoWidth","startPosition","smartSpeed","fluidSpeed","dragEndSpeed","animateOut","animateIn","autoplay","autoplayTimeout","autoplayHoverPause","autoHeight","responsive","0","480","768","980","onChanged","event","_changedCarouselCB","onInitialized","_thumbnailCarouselLoaded","owlCarousel","item","itemClone","find","length","count","$carouselThumbnail","next","hasClass","trigger","removeClass","i","el","addClass","valueDefault","listImage","img","push","attr","$carousel","prev","on","e","currentTarget","html","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","done","image","err","return","after","$thumb","document","ready","jQuery"],"mappings":"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","file":"carousel.js","sourcesContent":["(function ($) {","class OTF_Owl_Carousel {\n\n    constructor() {\n        setTimeout(() => {\n            this.initOwlCarousel();\n        }, 200);\n    }\n\n    initOwlCarousel() {\n        $('[data-opal-carousel]').each((index, element) => {\n            let listImages = this._getImageThumbnail($(element));\n            let $element   = $(element);\n            this._setupOwlCarousel($element);\n            if ($element.data('thumb')) {\n                this._initOwlThumbnails($element, listImages);\n            }\n        })\n    }\n\n    _setupOwlCarousel($element) {\n        let items      = $element.data('items') ? $element.data('items') : 3,\n            items768   = $element.data('tablet') ? $element.data('tablet')  : 2,\n            itemMobile = $element.data('mobile') ? $element.data('mobile')  : 1;\n\n        if (items < 3) {\n            items768 = items;\n        }\n        let settings = {\n            dots              : this._setDefaultBoolean($element.data('dots'), true),\n            nav               : this._setDefaultBoolean($element.data('nav'), true),\n            //items             : $element.data('items') ? $element.data('items') : 3,\n            loop              : this._setDefaultBoolean($element.data('loop'), true),\n            center            : this._setDefaultBoolean($element.data('center'), false),\n            rewind            : this._setDefaultBoolean($element.data('rewind'), false),\n            mouseDrag         : this._setDefaultBoolean($element.data('mousedrag'), true),\n            touchDrag         : this._setDefaultBoolean($element.data('touchdrag'), true),\n            pullDrag          : this._setDefaultBoolean($element.data('pulldrag'), true),\n            freeDrag          : this._setDefaultBoolean($element.data('freedrag'), false),\n            margin            : $element.data('margin') ? $element.data('margin') : 0,\n            stagePadding      : $element.data('stage-padding') ? $element.data('stage-padding') : 0,\n            merge             : this._setDefaultBoolean($element.data('merge'), false),\n            mergeFit          : this._setDefaultBoolean($element.data('mergefit'), true),\n            autoWidth         : this._setDefaultBoolean($element.data('autowidth'), false),\n            startPosition     : $element.data('start-position') ? $element.data('start-position') : 0,\n            //rtl               : opalrealesateJS.rtl == 'true',\n            //responsive        : {},\n            smartSpeed        : $element.data('smart-speed') ? $element.data('smart-speed') : 250,\n            fluidSpeed        : this._setDefaultBoolean($element.data('fluid-speed'), false),\n            dragEndSpeed      : this._setDefaultBoolean($element.data('dragend-speed'), false),\n            animateOut        : $element.data('animate-out') ? $element.data('animate-out') : '',\n            animateIn         : $element.data('animate-in') ? $element.data('animate-in') : '',\n            autoplay          : this._setDefaultBoolean($element.data('autoplay'), false),\n            autoplayTimeout   : $element.data('autoplay-timeout') ? $element.data('autoplay-timeout') : 5000,\n            autoplayHoverPause: this._setDefaultBoolean($element.data('autoplay-hover-pause'), false),\n            // navText           : opalrealesateJS.navText,\n            autoHeight        : this._setDefaultBoolean($element.data('auto-height'), true),\n            responsive        : {\n                0  : {\n                    items: itemMobile,\n                    dots : false,\n                    stagePadding: 0,\n                },\n                480: {\n                    items: itemMobile,\n                    dots : false,\n                    stagePadding: 0\n                },\n                768: {\n                    items: items768,\n                    stagePadding: 0\n                },\n                980: {\n                    items: items\n                }\n            }\n        };\n        if ($element.data('thumb')) {\n            settings = {\n                ...settings, ...{\n                    onChanged: (event) => {\n                        this._changedCarouselCB(event, $element, settings)\n                    }\n                }\n            }\n        }\n\n        if ($element.data('is-thumb')) {\n            settings = {\n                ...settings, ...{\n                    onInitialized: (event) => {\n                        this._thumbnailCarouselLoaded(event, $element);\n                    }\n                }\n            }\n        }\n        if ($element.data('timeout')) {\n            setTimeout(() => {\n                $element.owlCarousel(settings);\n            }, $element.data('timeout'));\n        } else {\n            $element.owlCarousel(settings);\n        }\n    }\n\n    _changedCarouselCB(event, $element, settings) {\n        let index = event.item.index;\n        if (settings.loop) {\n            let itemClone = $element.find('.owl-item.cloned').length / 2;\n            if (typeof event.item.index === 'number' && event.item.index != 0) {\n                index = event.item.index - itemClone;\n                if (index < 0) {\n                    index = event.item.count + index;\n                }\n            }\n        }\n        let $carouselThumbnail = $element.next();\n        if ($carouselThumbnail.hasClass('owl-loaded')) {\n            $carouselThumbnail.trigger('to.owl.carousel', index).find('.item').removeClass('selected').each((i, el) => {\n                if ($(el).data('index') == index) {\n                    $(el).addClass('selected');\n                }\n            });\n        }\n\n    }\n\n    _setDefaultBoolean(value, valueDefault) {\n        if (typeof value === 'undefined') {\n            return valueDefault;\n        } else {\n            return value;\n        }\n    }\n\n    _getImageThumbnail($element) {\n        let listImage = [];\n        $element.find('img').each((index, img) => {\n            listImage.push($(img).attr('src'));\n        });\n        return listImage;\n    }\n\n    _thumbnailCarouselLoaded(event, $element) {\n        let $carousel = $element.prev();\n        $element.find('.item').on('click', (e) => {\n            $carousel.trigger('to.owl.carousel', $(e.currentTarget).data('index'));\n        })\n    }\n\n    _initOwlThumbnails($element, listImages) {\n        let items  = $element.data('thumb-items') ? $element.data('thumb-items') : 5;\n        let margin = $element.data('thumb-margin') ? $element.data('thumb-margin') : 0;\n        let html   = `<div class=\"owl-carousel owl-theme owl-carousel-thumbnail\" data-is-thumb=\"true\" data-items=\"${items}\" data-dots=\"false\" data-loop=\"false\" data-margin=\"${margin}\" data-nav=\"false\">`;\n        let index  = 0;\n        for (let image of listImages) {\n            html += `<div class=\"item${index == 0 ? ' selected' : ''}\" data-index=\"${index}\">\n        <img src=\"${image}\">\n    </div>`;\n            index++;\n        }\n        html += `</div>`;\n\n        $element.after(html);\n        let $thumb = $element.next();\n        this._setupOwlCarousel($thumb);\n    }\n}\n\n$(document).ready(() => {\n    new OTF_Owl_Carousel();\n});","})(jQuery);"]}